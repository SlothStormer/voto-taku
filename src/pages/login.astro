---
import Layout from '../layouts/Layout.astro';
---

<Layout title="Login / Signup">
  <div class="min-h-screen bg-gradient-to-br from-violet-500 to-purple-700 flex justify-center items-center p-4">
    <div class="bg-white rounded-xl shadow-2xl overflow-hidden w-full max-w-4xl relative">
      <div id="form-container" class="flex transition-transform duration-700 ease-in-out">
        <!-- Login Form -->
        <div class="w-full md:w-1/2 p-8 flex-shrink-0">
          <div id="loginForm" class="block">
            <h2 class="text-3xl font-bold text-center mb-6 text-gray-800">Iniciar Sesión</h2>
            <form>
              <div class="mb-4">
                <label for="login-username" class="block text-sm font-medium text-gray-700 mb-1">Nombre de Usuario</label>
                <input type="text" id="login-username" class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent transition" required>
              </div>
              <div class="mb-6">
                <label for="login-password" class="block text-sm font-medium text-gray-700 mb-1">Contraseña</label>
                <input type="password" id="login-password" class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent transition" required>
              </div>
              <button type="submit" class="w-full bg-purple-600 text-white p-3 rounded-md hover:bg-purple-700 transition duration-300 transform hover:scale-105">Iniciar Sesión</button>
            </form>
            <p class="mt-6 text-center text-sm text-gray-600">
              ¿No tienes una cuenta? 
              <a href="#" id="showSignup" class="text-purple-600 hover:underline font-medium">Regístrate</a>
            </p>
          </div>
        </div>
        
        <!-- Signup Form -->
        <div id="signupForm" class="hidden">
        <div class="w-full md:w-1/2 p-8 flex-shrink-0">
            <h2 class="text-3xl font-bold text-center mb-6 text-gray-800">Crear una cuenta</h2>
            <form>
              <div class="mb-4">
                <label for="signup-username" class="block text-sm font-medium text-gray-700 mb-1">Nombre de Usuario</label>
                <input type="text" id="signup-username" class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent transition" required>
              </div>
              <div class="mb-4">
                <label for="signup-email" class="block text-sm font-medium text-gray-700 mb-1">Correo Electrónico</label>
                <input type="email" id="signup-email" class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent transition" required>
              </div>
              <div class="mb-4">
                <label for="signup-password" class="block text-sm font-medium text-gray-700 mb-1">Contraseña</label>
                <input type="password" id="signup-password" class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent transition" required>
              </div>
              <div class="mb-6">
                <label for="signup-confirm-password" class="block text-sm font-medium text-gray-700 mb-1">Confirmar Contraseña</label>
                <input type="password" id="signup-confirm-password" class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent transition" required>
              </div>
              <button type="submit" class="w-full bg-purple-600 text-white p-3 rounded-md hover:bg-purple-700 transition duration-300 transform hover:scale-105">Registrarse</button>
            </form>
            <p class="mt-6 text-center text-sm text-gray-600">
              ¿Ya tienes una cuenta? 
              <a href="#" id="showLogin" class="text-purple-600 hover:underline font-medium">Iniciar Sesión</a>
            </p>
          </div>
        </div>
      </div>
      
      <!-- Image Container -->
      <div class="absolute top-0 left-0 w-full h-full pointer-events-none">
        <div id="image-container" class="w-1/2 h-full absolute top-0 right-0 transition-transform duration-700 ease-in-out">
          <img src="https://image.cdn2.seaart.me/2023-07-27/49597880221765/6705d285f8deb1aa9a2b18087178e8f443867f6c_high.webp" alt="Login Image" class="w-full h-full object-cover">
        </div>
      </div>
    </div>
  </div>
</Layout>

<script >
document.addEventListener('DOMContentLoaded', () => {
  const formContainer = document.getElementById('form-container');
  const imageContainer = document.getElementById('image-container');
  const showSignup = document.getElementById('showSignup');
  const showLogin = document.getElementById('showLogin');
  const loginForm = document.getElementById('loginForm');
  const signupForm = document.getElementById('signupForm');

  showSignup?.addEventListener('click', (e) => {
    e.preventDefault();

    formContainer?.classList.add('-translate-x-1/2');
    imageContainer?.classList.add('-translate-x-full');

    formContainer?.addEventListener(
      'transitionend',
      () => {
        imageContainer?.querySelector('img')?.setAttribute('src', 'https://i.pinimg.com/736x/5b/12/a4/5b12a4fd73a4d7ee443730032e0e3846.jpg');
        loginForm?.classList.add('hidden');
        signupForm?.classList.remove('hidden');
      },
      { once: true }
    );
  });

  showLogin?.addEventListener('click', (e) => {
    e.preventDefault();

    formContainer?.classList.remove('-translate-x-1/2');
    imageContainer?.classList.remove('-translate-x-full');

    formContainer?.addEventListener(
      'transitionend',
      () => {
        imageContainer?.querySelector('img')?.setAttribute('src', 'https://image.cdn2.seaart.me/2023-07-27/49597880221765/6705d285f8deb1aa9a2b18087178e8f443867f6c_high.webp');
        signupForm?.classList.add('hidden');
        loginForm?.classList.remove('hidden');
      },
      { once: true }
    );
  });
});
</script>
<style>
    #form-container {
  z-index: 10;
}
#image-container {
  z-index: 5;
}
</style>
